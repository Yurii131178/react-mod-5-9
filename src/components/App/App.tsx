// import axios from 'axios';
// //GETALL///////////////////////////////////////////////GETALL
// axios
//   .get('https://jsonplaceholder.typicode.com/todos')
//   .then(response => console.log(response.data))
//   .catch(error => console.log(error));

// //GETBYID///////////////////////////////////////////////GETBYID

// const todoId = 1;

// axios
//   .get(`https://jsonplaceholder.typicode.com/${todoId}`)
//   .then(response => console.log(response.data))
//   .catch(error => console.log(error));

// //POST///////////////////////////////////////////////POST

// const newTodo = {
//   title: 'C stands for Create',
//   completed: false,
// };

// axios
//   .post('https://jsonplaceholder.typicode.com', newTodo)
//   .then(response => console.log(response.data))
//   .catch(error => console.log(error));

// //PATCH////////////////////////////////////////////////PAYCH

// const todoId = 1;
// const todoUpdate = {
//   title: 'New todo title',
// };

// axios
//   .patch(`https://jsonplaceholder.typicode.com/todos/${todoId}`, todoUpdate)
//   .then(response => console.log(response.data))
//   .catch(error => console.log(error));

// //DELETE/////////////////////////////////////////////DELETE

// const todoId = 1;

// axios
//   .delete(`https://jsonplaceholder.typicode.com/todos/${todoId}`)
//   .then(response => console.log(response.data))
//   .catch(error => console.log(error));
//........................................................//
//..........................................................//
//............................................................
/**---------------------------–ú—É—Ç–∞—Ü—ñ—ó--------------------------------
–ú—É—Ç–∞—Ü—ñ—ó –≤ React Query –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –∑–º—ñ–Ω—é—é—Ç—å –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, —Ç–∞–∫–∏—Ö —è–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤. –î–ª—è —Ü—å–æ–≥–æ —ñ—Å–Ω—É—î —Ö—É–∫ useMutation.

import { useMutation } from '@tanstack/react-query';

–•—É–∫ useMutation –ø—Ä–∏–π–º–∞—î –æ–±‚Äô—î–∫—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å, –æ—Å—å –¥–µ—è–∫—ñ —ñ–∑ –Ω–∏—Ö —è–∫—ñ –±—É–¥—É—Ç—å –Ω–∞–º –∫–æ—Ä–∏—Å–Ω—ñ:

useMutation({
  mutationFn: async (data) => {
	  // HTTP-request
  },
  onSuccess: (data) => {
    // Mutation success!
  },
  onError: (error) => {
    // An error happened!
  }
})

mutationFn ‚Äì –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –≤–∏–∫–æ–Ω—É—î –∑–∞–ø–∏—Ç –¥–ª—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, —Ç–æ–±—Ç–æ POST, DELETE, PUT –∞–±–æ PATCH.
onSuccess ‚Äì –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –º—É—Ç–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥—ñ—ó –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ —Å–µ—Ä–≤–µ—Ä —É—Å–ø—ñ—à–Ω–æ –æ–±—Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç.
onError ‚Äì –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –º—É—Ç–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–æ—é. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –æ–±—Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É.

const mutation = useMutation(options);

–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ useQuery, —Ö—É–∫ useMutation –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é, –∞ –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±‚Äô—î–∫—Ç –º—É—Ç–∞—Ü—ñ—ó —ñ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏:

mutate ‚Äì –º–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó.
isPending ‚Äì —Å—Ç–∞—Ç—É—Å, —è–∫–∏–π –ø–æ–∫–∞–∑—É—î, —â–æ –º—É—Ç–∞—Ü—ñ—è –∑–∞—Ä–∞–∑ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä).
isError ‚Äì –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ true, —è–∫—â–æ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –º—É—Ç–∞—Ü—ñ—ó.
isSuccess ‚Äì –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ true, —è–∫—â–æ –º—É—Ç–∞—Ü—ñ—è –±—É–ª–∞ —É—Å–ø—ñ—à–Ω–æ—é, —ñ –¥–∞–Ω—ñ –±—É–ª–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.


–¶—ñ —Å—Ç–∞–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –≤–∞–º –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏, –Ω–∞ —è–∫–æ–º—É –µ—Ç–∞–ø—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –º—É—Ç–∞—Ü—ñ—è, —ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ü—å–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É.

–û—Å—å –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º—É—Ç–∞—Ü—ñ—ó –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è:
 */

//.................................................................
//1. –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Ö—É–∫ useMutation
// import axios from 'axios';
// import { useMutation } from '@tanstack/react-query';

// export default function App() {
//   // 2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö—É–∫
//   const mutation = useMutation({
//     mutationFn: async newTodo => {
//       const res = await axios.post(
//         'https://jsonplaceholder.typicode.com/todos',
//         newTodo
//       );
//       return res.data;
//     },
//     onSuccess: () => {
//       console.log('Todo added successfully');
//     },
//   });

//   const handleCreateTodo = () => {
//     // 3. –í–∏–∫–ª–∏–∫–∞—î–º–æ mutate –¥–ª—è —Ç–æ–≥–æ —â–æ–± –≤–∏–∫–æ–Ω–∞—Ç–∏ HTTP-–∑–∞–ø–∏—Ç
//     mutation.mutate({
//       title: 'My new todo',
//       completed: false,
//     });
//   };

//   return (
//     <>
//       <button onClick={handleCreateTodo}>Create Todo</button>
//       {mutation.isPending && <div>Adding todo...</div>}
//       {mutation.isError && <div>An error occurred</div>}
//       {mutation.isSuccess && <div>Todo added!</div>}
//     </>
//   );
// }
//...................................................................

///////////////////////////////////////////////////////////////////
//
//-----------------–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É---------------------------//
// –Ø–∫–±–∏ –º–∏ –∑–∞–ø–∏—Ç—É–≤–∞–ª–∏ —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é useQuery:

// useQuery({
//   queryKey: ['todos'],
//   queryFn: async () => {
//     const res = await axios.get('https://jsonplaceholder.typicode.com/todos');
//     return res.data;
//   },
// });

// –ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –º—É—Ç–∞—Ü—ñ—é, —è–∫—â–æ –≤—Å–µ –≤–¥–∞–ª–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, –º–∏ –Ω–µ –ø–æ–±–∞—á–∏–º–æ –æ–Ω–æ–≤–ª–µ–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ. –ü—Ä–∏—á–∏–Ω–∞ –≤ —Ç–æ–º—É, —â–æ –¥–∞–Ω—ñ –±—É–ª–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ –ª–∏—à–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, –∞–ª–µ –ª–æ–∫–∞–ª—å–Ω–∏–π –∫–µ—à –Ω–µ –±—É–ª–æ –æ–Ω–æ–≤–ª–µ–Ω–æ. –¢–æ–º—É –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –º—É—Ç–∞—Ü—ñ—ó –≤–∞–∂–ª–∏–≤–æ –æ–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ, —â–æ–± –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –∑–º—ñ–Ω–∏.

// –î–ª—è —Ü—å–æ–≥–æ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –∫–µ—à –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ queryKey, —Ü–µ –∑–º—É—Å–∏—Å—å React Query –∑—Ä–æ–±–∏—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç –∑–∞ –∫–æ–ª–µ–∫—Ü—ñ—î—é –¥–∞–Ω–∏—Ö, —Ç–æ–±—Ç–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π useQuery./
//......................................................
// 1. –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Ö—É–∫ useQueryClient
// import axios from 'axios';
// import { useMutation, useQueryClient } from '@tanstack/react-query';
// ////////////////////////////////////////////////////////////////////////
// // 1.5. —Ç–∏–ø—ñ–∑—É—î–º–æ –º—É—Ç–∞—Ü—ñ—é, —â–æ–± –Ω–µ –º–∞—Ç—é–∫–∞–≤—Å—è –ª—ñ–Ω—Ç–µ—Ä –Ω–∞:

// type Todo = {
//   id: number;
//   title: string;
//   completed: boolean;
//   userId: number;
// };

// type NewTodo = {
//   title: string;
//   completed: boolean;
// };
// //////////////////////////////////////////////////////////////////
// export default function App() {
//   // 2. –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–≤–µ—Ä—ñ-–∫–ª—ñ—î–Ω—Ç —â–æ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏ —É main.tsx
//   const queryClient = useQueryClient();

//   const mutation = useMutation<Todo, Error, NewTodo>({
//     mutationFn: async newTodo => {
//       const res = await axios.post(
//         'https://jsonplaceholder.typicode.com/todos',
//         newTodo
//       );
//       return res.data;
//     },
//     onSuccess: () => {
//       // 3. –ö–æ–ª–∏ –º—É—Ç–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è,
//       // —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É—î–º–æ –≤—Å—ñ –∑–∞–ø–∏—Ç–∏ –∑ –∫–ª—é—á–µ–º "todos"
//       // –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –∑–∞–≤–¥–∞–Ω—å
//       queryClient.invalidateQueries({ queryKey: ['todos'] });
//     },
//   });

//   const handleCreateTodo = () => {
//     mutation.mutate({
//       title: 'My new todo',
//       completed: false,
//     });
//   };

//   return (
//     <>
//       <button onClick={handleCreateTodo}>Create Todo</button>
//       {mutation.isPending && <div>Adding todo...</div>}
//       {mutation.isError && <div>An error occurred</div>}
//       {mutation.isSuccess && <div>Todo added!</div>}
//     </>
//   );
// }
//......................................................
/**onSuccess ‚Äì –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –º—É—Ç–∞—Ü—ñ—ó. –¶–µ –º—ñ—Å—Ü–µ, –¥–µ –º–∏ –º–æ–∂–µ–º–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —Ç–∞–∫—ñ —è–∫ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤.
invalidateQueries ‚Äì —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è —ñ–Ω–≤–∞–ª—ñ–¥—É—î –∑–∞–ø–∏—Ç–∏ –∑ –ø–µ–≤–Ω–∏–º –∫–ª—é—á–µ–º, –∑–º—É—à—É—é—á–∏ React Query –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞.

–ü—ñ—Å–ª—è –±—É–¥—å-—è–∫–æ—ó –∑–º—ñ–Ω–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∑–º—ñ–Ω–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

–Ø–∫—â–æ –≤–∏ –¥–æ–¥–∞—î—Ç–µ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–æ —Å–ø–∏—Å–∫—É, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –¥–ª—è –∑–∞–≤–¥–∞–Ω—å.
–Ø–∫—â–æ –≤–∏ —Ä–µ–¥–∞–≥—É—î—Ç–µ –µ–ª–µ–º–µ–Ω—Ç, –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –Ω–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü—å–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞.
–Ø–∫—â–æ –≤–∏ –≤–∏–¥–∞–ª—è—î—Ç–µ –µ–ª–µ–º–µ–Ω—Ç, –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è.


–¢–∞–∫–∏–º —á–∏–Ω–æ–º, —ñ–Ω–≤–∞–ª—ñ–¥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –ø—ñ—Å–ª—è –º—É—Ç–∞—Ü—ñ–π –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∞. */
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
/**-----------------------–ó–∞–Ω—è—Ç—Ç—è 10. –ö–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏--------------------------------
–ß–∞—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è –∞–±–æ —Å–µ–ª–µ–∫—Ç–∞, –ø—ñ–¥ —á–∞—Å –π–æ–≥–æ –∑–º—ñ–Ω–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –ø–æ–ª—ñ –ø–æ—à—É–∫—É, —Ñ—ñ–ª—å—Ç—Ä–∞—Ö —Ç–æ—â–æ. –í —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ ‚Äì —Ü–µ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ñ–æ—Ä–º–∏, –∑–Ω–∞—á–µ–Ω–Ω—è —è–∫–∏—Ö –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–µ—Ä—É—î—Ç—å—Å—è —Å—Ç–∞–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ React.

–ö–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ = –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –ø–æ–ª—ñ ‚Üê‚Üí –∑–Ω–∞—á–µ–Ω–Ω—è –≤ useState

–ü—Ä–∏–∫–ª–∞–¥: –º–∏ —Ö–æ—á–µ–º–æ, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏–≤ —Ç–µ–∫—Å—Ç —É –ø–æ–ª—ñ, —ñ –≤—ñ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –≤–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

–Ø–∫—â–æ –ø–æ–ª–µ –Ω–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑—ñ —Å—Ç–∞–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤–æ–Ω–æ —î –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–º. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ React –Ω–µ –º–∞—î –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è–º. –û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –ø–æ–ª—è:

import { useState } from "react";

export default function App() {
  const [inputValue, setInputValue] = useState("");

  return (
    <>
      <input type="text" />
      <p>{inputValue}</p>
    </>
  );
}

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Å—Ç–∞–Ω—ñ —Ç–∞ –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ useState. 

–©–æ–± –∑—Ä–æ–±–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–º, –ø–æ—Ç—Ä—ñ–±–Ω–æ:

–ü–µ—Ä–µ–¥–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç value
–î–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó onChange, —è–∫–∏–π –±—É–¥–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å—Ç–∞–Ω*/
//............................................................

// import { useState } from 'react';

// export default function App() {
//   const [inputValue, setInputValue] = useState('');

//   const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
//     setInputValue(event.target.value);
//   };

//   return (
//     <>
//       <input type="text" value={inputValue} onChange={handleChange} />
//       <p>{inputValue}</p>
//     </>
//   );
// }
//.................................................................
/**–¢–µ–ø–µ—Ä –º–∏ –º–∞—î–º–æ –∑–∞–º–∫–Ω–µ–Ω–µ –∫–æ–ª–æ:

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Å–∏–º–≤–æ–ª ‚Üí –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è onChange
–ú–∏ –∑–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é setInputValue(...)
React –æ–Ω–æ–≤–ª—é—î –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
value={inputValue} –æ–Ω–æ–≤–ª—é—î —Ç–µ–∫—Å—Ç —É –ø–æ–ª—ñ.


–Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ–¥–∞–ª–∏ –∞—Ç—Ä–∏–±—É—Ç value, –∞–ª–µ –Ω–µ –¥–æ–¥–∞–ª–∏ onChange, –≤ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è:

React –ø–æ–ø–µ—Ä–µ–¥–∂–∞—î, —â–æ –µ–ª–µ–º–µ–Ω—Ç –º–∞—î –∞—Ç—Ä–∏–±—É—Ç value, –∞–ª–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è, —Ç–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ onChange, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ –∑–º—ñ–Ω–∏.
*/
// –ø—Ä–∏–∫–ª–∞–¥:
//...............................................................
// import { useState } from 'react';
// import SearchBox from '../Searchbox/Searchbox';
// import SortFilter from '../SortFilter/SortFilter';
// import { SortOption } from '../../types';

// export default function App() {
//   const [searchText, setSearchText] = useState('');
//   const [sortBy, setSortBy] = useState<SortOption>('created');

//   return (
//     <>
//       <SearchBox value={searchText} onSearch={setSearchText} />
//       <p>Searching for: {searchText}</p>

//       <SortFilter value={sortBy} onSelect={setSortBy} />
//       <p>Sorting by: {sortBy}</p>
//     </>
//   );
// }
//.............................................................
/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////

/**------------------------–í—ñ–¥–∫–ª–∞–¥–µ–Ω–∏–π –ø–æ—à—É–∫--------------------------------
–û–¥–Ω–∞ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∑–∞–¥–∞—á –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ —Ü–µ –ø–æ—à—É–∫ (—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è) –ø–æ –∫–æ–ª–µ–∫—Ü—ñ—ó –¥–∞–Ω–∏—Ö. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç —É –ø–æ–ª–µ, –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –Ω–∞ –±–µ–∫–µ–Ω–¥, —ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ.

–ü–æ–≤–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ, —Ç–æ–º—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —ñ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è —Å–∞–º–µ —Ç–∞–º. –ó–∞–≤–¥–∞–Ω–Ω—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ ‚Äì –≤–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç, –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —á–∞—Å—Ç–∏–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ —ó—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É.

–û—Å—å –ø—Ä–∏–∫–ª–∞–¥, —è–∫ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –∫–æ–¥, —â–æ –≤–∏–∫–æ–Ω—É—î –∑–∞–ø–∏—Ç –Ω–∞ –±–µ–∫–µ–Ω–¥ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç —É –ø–æ–ª–µ:
//...............................................

import { useState, useEffect } from 'react';

export default function App() {
  const [text, setText] = useState('');
  
  useEffect(() => {
	  console.log(`Make HTTP request with: ${text}`);
  }, [text]);

  return <input type="text" onChange={(e) => setText(e.target.value)} />
}
//......................................................

–Ø–∫—â–æ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ useEffect –∞–±–æ useQuery –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –Ω–∞ –∫–æ–∂–Ω—É –∑–º—ñ–Ω—É —Ç–µ–∫—Å—Ç—É, —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–π–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –±–µ–∫–µ–Ω–¥ —Ç–∞ —á–∞—Å—Ç–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ, —â–æ –º–æ–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

–©–æ–± —Ä–æ–∑–≤'—è–∑–∞—Ç–∏ —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∑–∞–ø–∏—Ç –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å –ª–∏—à–µ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∏–ø–∏–Ω–∏—Ç—å –≤–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ –ø–µ–≤–Ω–∏–π —á–∞—Å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 300 –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥. –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è Debounce, —ñ –≤—ñ–Ω “ë—Ä—É–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞ –ø–∞—Ç–µ—Ä–Ω–∞—Ö —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ–¥—ñ—è–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

–¶—è —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—è –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —è–∫ —Å–∞–º–µ –ø—Ä–∞—Ü—é—î –ø—ñ–¥—Ö—ñ–¥ Debounce.

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç, –∞–ª–µ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è.
–Ø–∫ —Ç—ñ–ª—å–∫–∏ –≤–≤–µ–¥–µ–Ω–Ω—è –ø—Ä–∏–ø–∏–Ω—è—î—Ç—å—Å—è –Ω–∞ –∑–∞–¥–∞–Ω–∏–π —á–∞—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 300 –º—Å), —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è.
–Ø–∫—â–æ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –¥–æ —Ç–æ–≥–æ, —è–∫ –ø—Ä–æ–π–¥–µ —Ü–µ–π —á–∞—Å, —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è.

–î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó debounce-–ª–æ–≥—ñ–∫–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ–ø—É–ª—è—Ä–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É use-debounce.

npm i use-debounce

–î–∞–ª—ñ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —Ö—É–∫ useDebounce:

–°–ø—Ä–æ–±—É–π—Ç–µ –≤–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ —ñ –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è, –∫–æ–ª–∏ –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è:

 */
//........................................
// import { useState, useEffect } from 'react';
// import { useDebounce } from 'use-debounce';

// export default function App() {
//   const [text, setText] = useState('hello');
//   const [debouncedText] = useDebounce(text, 1000);

//   useEffect(() => {
//     console.log(`Make HTTP request with: ${debouncedText}`);
//   }, [debouncedText]);

//   return (
//     <>
//       <input type="text" onChange={e => setText(e.target.value)} />
//       <p>Actual text: {text}</p>
//       <p>Debounced text: {debouncedText}</p>
//     </>
//   );
// }
//........................................
/**

text ‚Äì —Ü–µ —Å—Ç–∞–Ω, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è.
debouncedText ‚Äì —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ—Å—Ç–∞–≤ –≤–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç –ø—Ä–æ—Ç—è–≥–æ–º 1000 –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥. –¶–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏–∫–ª–∏–∫–∞—î useEffect.
useEffect –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ debouncedText, —â–æ –∑–∞–ø–æ–±—ñ–≥–∞—î –∑–∞–π–≤–∏–º –∑–∞–ø–∏—Ç–∞–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—ñ–¥ —á–∞—Å –≤–≤–µ–¥–µ–Ω–Ω—è. 
//.....................................................................................................................//
–£ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –∫—Ä–æ—Ü—ñ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ Debounce —Ä–∞–∑–æ–º —ñ–∑ React Query –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—à—É–∫—É —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ.*/

//////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

/**------------------–ü–æ—à—É–∫ –∑ React Query-------------------------
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ React Query –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ø–æ—à—É–∫—É –ø–æ—Å—Ç—ñ–≤ —á–µ—Ä–µ–∑ https://dummyjson.com. –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä–∏–º–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–æ—à—É–∫—É —ñ —Å—Ç–∞–Ω, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ —Ç–µ–∫—Å—Ç–æ–≤–∏–º –ø–æ–ª–µ–º. */
//........................................................

// import { useState } from 'react';
// import { useDebounce } from 'use-debounce';

// export default function App() {
//   const [searchQuery, setSearchQuery] = useState('');
//   const [debouncedSearchQuery] = useDebounce(searchQuery, 300);

//   const updateSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {
//     setSearchQuery(event.target.value);
//   };

//   return (
//     <>
//       <input
//         type="text"
//         onChange={updateSearchQuery}
//         placeholder="Search posts"
//       />
//     </>
//   );
// }
//.......................................................
/**–î–∞–ª—ñ, —Å—Ç–≤–æ—Ä–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –Ω–∞ –±–µ–∫–µ–Ω–¥, –∞ —Ç–∞–∫–æ–∂ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.



import { useState } from 'react';
import { useDebounce } from 'use-debounce';
import axios from 'axios';

interface Post {
  id: number;
  title: string;
  body: string;
}

interface FetchPostsResponse {
  posts: Post[];
}

export const fetchPosts = async (searchText: string): Promise<Post[]> => {
  const res = await axios.get<FetchPostsResponse>(
    'https://dummyjson.com/posts/search',
    {
      params: {
        q: searchText,
      },
    }
  );
  return res.data.posts;
};

/* –†–µ—à—Ç–∞ –∫–æ–¥—É —Ñ–∞–π–ª–∞ */

// –¢–µ–ø–µ—Ä –¥–æ–¥–∞—î–º–æ useQuery –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É, —è–∫–∏–π –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∏–ø–∏–Ω–∏—Ç—å –≤–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç:

// const { data } = useQuery({
//   queryKey: ['posts', debouncedSearchQuery],
//   queryFn: () => fetchPosts(debouncedSearchQuery),
//   placeholderData: keepPreviousData,
// });

/**queryKey ‚Äì —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∫–ª—é—á –¥–ª—è –∑–∞–ø–∏—Ç—É, —â–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –Ω–∞–∑–≤–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó ('posts') —ñ —Ç–µ–∫—Å—Ç—É –ø–æ—à—É–∫—É (debouncedSearchQuery). –¶–µ –¥–æ–∑–≤–æ–ª—è—î React Query –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∫–µ—à –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É –æ–∫—Ä–µ–º–æ.


queryFn ‚Äì —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –±–µ–∫–µ–Ω–¥—É. –í–æ–Ω–∞ –ø—Ä–∏–π–º–∞—î debouncedSearchQuery, —â–æ–± –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑—Ä–æ–±–∏–≤ –ø–∞—É–∑—É.


placeholderData ‚Äì –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤, –ø–æ–∫–∏ –Ω–µ –±—É–¥—É—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—ñ –Ω–æ–≤—ñ –¥–∞–Ω—ñ, —â–æ–± —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –±–ª–∏–º–∞–≤ –ø—ñ–¥ —á–∞—Å –∑–º—ñ–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ—à—É–∫—É.


üí° –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –ø—Ä–∏–∫–ª–∞–¥ —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ ‚Äì –≤—ñ–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ —É—Å–µ –ø—Ä–∞—Ü—é—î —Ä–∞–∑–æ–º.  */
//.................................................................
// import { useState } from 'react';
// import { useDebounce } from 'use-debounce';
// import axios from 'axios';
// import { useQuery, keepPreviousData } from '@tanstack/react-query';

// interface Post {
//   id: number;
//   title: string;
//   body: string;
// }

// interface FetchPostsResponse {
//   posts: Post[];
// }

// export const fetchPosts = async (searchText: string): Promise<Post[]> => {
//   const res = await axios.get<FetchPostsResponse>(
//     'https://dummyjson.com/posts/search',
//     {
//       params: {
//         q: searchText,
//       },
//     }
//   );
//   return res.data.posts;
// };

// export default function App() {
//   const [searchQuery, setSearchQuery] = useState('');
//   const [debouncedSearchQuery] = useDebounce(searchQuery, 300);

//   const { data: posts, isFetching } = useQuery({
//     queryKey: ['posts', debouncedSearchQuery],
//     queryFn: () => fetchPosts(debouncedSearchQuery),
//     placeholderData: keepPreviousData,
//   });

//   const updateSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {
//     setSearchQuery(event.target.value);
//   };

//   return (
//     <>
//       <input
//         type="text"
//         onChange={updateSearchQuery}
//         placeholder="Search posts"
//       />
//       {isFetching && <div>Loading posts...</div>}
//       {posts && (
//         <ul>
//           {posts.map(post => (
//             <li key={post.id}>{post.title}</li>
//           ))}
//         </ul>
//       )}
//     </>
//   );
// }
//..............................................................................
///////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////

/**--------------------------–í–ª–∞—Å–Ω—ñ —Ö—É–∫–∏--------------------------------
 * 
–ú–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Ö—É–∫–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –≤ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —â–æ –ø—ñ–¥–≤–∏—â—É—î —á–∏—Å—Ç–æ—Ç—É —Ç–∞ –∑—Ä—É—á–Ω—ñ—Å—Ç—å –∫–æ–¥—É. –í–ª–∞—Å–Ω–∏–π —Ö—É–∫ –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –ø–µ–≤–Ω—É –ª–æ–≥—ñ–∫—É –∞–±–æ —á–∞—Å—Ç–∏–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —è–∫—É –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –±–∞–≥–∞—Ç—å–æ—Ö –º—ñ—Å—Ü—è—Ö –±–µ–∑ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É.

–•—É–∫ ‚Äì —Ü–µ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü—ñ—è, —ñ–º'—è —è–∫–æ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ø—Ä–∏—Å—Ç–∞–≤–∫–∏ use. –¶–µ –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å React –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏ —Ö—É–∫ –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó. –ü—Ä–∏–∫–ª–∞–¥: useState, useEffect, useToggle, useDevice, useImages —Ç–æ—â–æ. –í–ª–∞—Å–Ω—ñ —Ö—É–∫–∏ –∑–∞–∑–≤–∏—á–∞–π —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –ø–æ–∑–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, —ñ–Ω–∫–æ–ª–∏ –Ω–∞–≤—ñ—Ç—å –≤ –æ–∫—Ä–µ–º–∏—Ö —Ñ–∞–π–ª–∞—Ö, —ñ –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —ñ–Ω—à—ñ —Ö—É–∫–∏.

–ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–ª–∞—Å–Ω–æ–≥–æ —Ö—É–∫–∞, —è–∫–∏–π –≤—ñ–¥—Å—Ç–µ–∂—É—î —à–∏—Ä–∏–Ω—É –≤—ñ–∫–Ω–∞:
//.............................................................
// src/hooks/useWindowWidth.ts

import { useState, useEffect } from 'react';

export const useWindowWidth = () => {
  const [windowWidth, setWindowWidth] = useState(window.innerWidth);

  useEffect(() => {
	  const handleResize = () => setWindowWidth(window.innerWidth);
    
    window.addEventListener('resize', handleResize);
    
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return windowWidth;
};
//.............................................................
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ useState –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —à–∏—Ä–∏–Ω–∏ –≤—ñ–∫–Ω–∞ —Ç–∞ useEffect –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ–¥—ñ–π resize.
–•—É–∫ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω—É —à–∏—Ä–∏–Ω—É –≤—ñ–∫–Ω–∞, —è–∫—É –º–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ.

–¢–µ–ø–µ—Ä —Ü–µ–π —Ö—É–∫ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤ –±—É–¥—å-—è–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ: */
//.....................................
// import { useWindowWidth } from '../hooks/useWindowWidth';

// export default function App() {
//   const windowWidth = useWindowWidth();

//   return <p>Current window width: {windowWidth}px</p>;
// };
//.................................................

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö —Ö—É–∫—ñ–≤ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ—Å–≤—ñ–¥—É —Ä–æ–±–æ—Ç–∏ –∑ —Ö—É–∫–∞–º–∏ —Ç–∞ React –∑–∞–≥–∞–ª–æ–º. –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –ø—Ä–∞–≥–Ω—É—Ç–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Ö—É–∫–∏ —É –ø—Ä–æ—î–∫—Ç—ñ. –Ø–∫—â–æ –≤–∏ –±–∞—á–∏—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É ‚Äì –∑—Ä–æ–±—ñ—Ç—å —Å–≤—ñ–π —Ö—É–∫. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫—Ä–∞—â–µ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ñ —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥—É —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö React-—Ö—É–∫—ñ–≤ –∞–±–æ –≥–æ—Ç–æ–≤–∏—Ö —Ö—É–∫—ñ–≤ –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫, —Ç–∞–∫–∏—Ö —è–∫ react-use.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**--------------------–í–ª–∞—Å–Ω—ñ —Ö—É–∫–∏ –¥–ª—è React Query--------------------------------

–¢–µ–ø–µ—Ä —Å—Ç–≤–æ—Ä–∏–º–æ –≤–ª–∞—Å–Ω–∏–π —Ö—É–∫ useFetchPosts, –≤ —è–∫–æ–º—É –±—É–¥–µ —ñ–Ω–∫–∞–ø—Å—É–ª—å–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è useQuery. –û—Å—å —è–∫ –≤–∏–≥–ª—è–¥–∞–≤ –∫–æ–¥ –¥–æ–¥–∞—Ç–∫–∞ –¥–ª—è –ø–æ—à—É–∫—É –ø–æ—Å—Ç—ñ–≤:

 */
// import { useState } from 'react';
// import { useDebounce } from 'use-debounce';
// import axios from 'axios';
// import { useQuery, keepPreviousData } from '@tanstack/react-query';

// interface Post {
//   id: number;
//   title: string;
//   body: string;
// }

// interface FetchPostsResponse {
//   posts: Post[];
// }

// export const fetchPosts = async (searchText: string): Promise<Post[]> => {
//   const res = await axios.get<FetchPostsResponse>(
//     'https://dummyjson.com/posts/search',
//     {
//       params: { q: searchText },
//     }
//   );
//   return res.data.posts;
// };

// export default function App() {
//   const [searchQuery, setSearchQuery] = useState('');
//   const [debouncedSearchQuery] = useDebounce(searchQuery, 300);

//   const { data: posts, isFetching } = useQuery({
//     queryKey: ['posts', debouncedSearchQuery],
//     queryFn: () => fetchPosts(debouncedSearchQuery),
//     placeholderData: keepPreviousData,
//   });

//   const updateSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {
//     setSearchQuery(event.target.value);
//   };

//   return (
//     <>
//       <input
//         type="text"
//         onChange={updateSearchQuery}
//         placeholder="Search posts"
//       />
//       {isFetching && <div>Loading posts...</div>}
//       {posts && (
//         <ul>
//           {posts.map(post => (
//             <li key={post.id}>{post.title}</li>
//           ))}
//         </ul>
//       )}
//     </>
//   );
// }
//...................................................

//–í–∏–Ω–æ—Å–∏–º–æ –∫–æ–¥, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ HTTP-–∑–∞–ø–∏—Ç–∞–º–∏ —Ç–∞ React Query, –≤ –æ–∫—Ä–µ–º–∏–π —Ö—É–∫:
//.............................................................................

// src/hooks/useFetchPosts.ts

// import { useQuery } from '@tanstack/react-query';
// import axios from 'axios';

// interface Post {
//   id: number;
//   title: string;
//   body: string;
// }

// interface FetchPostsResponse {
//   posts: Post[];
// }

// const fetchPosts = async (searchText: string): Promise<Post[]> => {
//   const res = await axios.get<FetchPostsResponse>(
//     'https://dummyjson.com/posts/search',
//     {
//       params: { q: searchText },
//     }
//   );
//   return res.data.posts;
// };

// export const useFetchPosts = (query: string) => {
//   return useQuery({
//     queryKey: ['posts', query],
//     queryFn: () => fetchPosts(query),
//     keepPreviousData: true,
//   });
// };
//............................................................................
/**useFetchPosts ‚Äì —Ü–µ –≤–ª–∞—Å–Ω–∏–π —Ö—É–∫, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î query —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.
–•—É–∫ –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç useQuery, —â–æ –º—ñ—Å—Ç–∏—Ç—å data, isFetching —Ç–∞ —ñ–Ω—à—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ.
–§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø–∏—Ç—É (queryFn) ‚Äì —Ü–µ fetchPosts, —â–æ –æ—Ç—Ä–∏–º—É—î –ø–æ—Å—Ç–∏ –∑–∞ –∑–∞–ø–∏—Ç–æ–º.

–¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π —Ö—É–∫ useFetchPosts —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ: */

// import { useState } from 'react';
// import { useDebounce } from 'use-debounce';
// // 1. –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Ö—É–∫
// import { useFetchPosts } from '../hooks/useFetchPosts';

// export default function App() {
//   const [searchQuery, setSearchQuery] = useState('');
//   const [debouncedSearchQuery] = useDebounce(searchQuery, 300);

//   // 2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö—É–∫
//   const { data: posts, isFetching } = useFetchPosts(debouncedSearchQuery);

//   const updateSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {
//     setSearchQuery(event.target.value);
//   };

//   return (
//     <>
//       <input
//         type="text"
//         onChange={updateSearchQuery}
//         placeholder="Search posts"
//       />
//       {isFetching && <div>Loading posts...</div>}
//       {posts && (
//         <ul>
//           {posts.map(post => (
//             <li key={post.id}>{post.title}</li>
//           ))}
//         </ul>
//       )}
//     </>
//   );
// }
//..........................................................

/**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç App –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—î useFetchPosts —ñ –∑–æ—Å–µ—Ä–µ–¥–∂–µ–Ω–∏–π –ª–∏—à–µ –Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö. –õ–æ–≥—ñ–∫–∞ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ –∞–±—Å—Ç—Ä–∞–≥–æ–≤–∞–Ω–∞ –≤ –æ–∫—Ä–µ–º–∏–π —Ö—É–∫, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∏—Å—Ç—ñ—à–∏–º.

–¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —è–∫—ñ —Ñ–æ–∫—É—Å—É—é—Ç—å—Å—è –Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö, –∞ –≤—Å—é –ª–æ–≥—ñ–∫—É –≤–∏—Ç—è–≥–∞–Ω–Ω—è, –æ–±—Ä–æ–±–∫–∏ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –º–æ–∂–Ω–∞ –∞–±—Å—Ç—Ä–∞–≥—É–≤–∞—Ç–∏ –≤ –æ–∫—Ä–µ–º—ñ —Ö—É–∫–∏. */
import { useState } from 'react';
import { useDebounce } from 'use-debounce';
import axios from 'axios';
import { useQuery, keepPreviousData } from '@tanstack/react-query';

interface Post {
  id: number;
  title: string;
  body: string;
}

interface FetchPostsResponse {
  posts: Post[];
}

export const fetchPosts = async (searchText: string): Promise<Post[]> => {
  const res = await axios.get<FetchPostsResponse>(
    'https://dummyjson.com/posts/search',
    {
      params: { q: searchText },
    }
  );
  return res.data.posts;
};

export default function App() {
  const [searchQuery, setSearchQuery] = useState('');
  const [debouncedSearchQuery] = useDebounce(searchQuery, 300);

  const { data: posts, isFetching } = useQuery({
    queryKey: ['posts', debouncedSearchQuery],
    queryFn: () => fetchPosts(debouncedSearchQuery),
    placeholderData: keepPreviousData,
  });

  const updateSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {
    setSearchQuery(event.target.value);
  };

  return (
    <>
      <input
        type="text"
        onChange={updateSearchQuery}
        placeholder="Search posts"
      />
      {isFetching && <div>Loading posts...</div>}
      {posts && (
        <ul>
          {posts.map(post => (
            <li key={post.id}>{post.title}</li>
          ))}
        </ul>
      )}
    </>
  );
}
